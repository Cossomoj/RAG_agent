# Настройка путей для RAG агента

## Проблема
В коде используется жестко заданный путь `/var/www/html/src/main_version`, который может не соответствовать реальному расположению проекта.

## Решение

### 1. Автоматическое определение пути (рекомендуется)
Код теперь автоматически определяет путь относительно своего расположения:
```webapp/api/app.py → ../../src/main_version
```

### 2. Использование переменной окружения
Установите переменную окружения `RAG_PATH`:

#### Для разработки (локально):
```bash
export RAG_PATH="/Users/max/Desktop/вопрос в любом месте/RAG_agent/src/main_version"
```

#### Для продакшена (сервер):
```bash
export RAG_PATH="/var/www/html/src/main_version"
# или
export RAG_PATH="/home/user/RAG_agent/src/main_version"
```

### 3. Структура проекта
Убедитесь, что структура проекта соответствует ожидаемой:
```
RAG_agent/
├── webapp/
│   ├── api/
│   │   ├── app.py          ← отсюда ищем путь
│   │   └── websocket_server.py
│   └── ...
├── src/
│   └── main_version/       ← сюда должен вести путь
│       ├── rag_service.py  ← основной файл RAG
│       ├── telegram_bot.py
│       └── ...
```

## Проверка работы
После запуска API проверьте логи:
- ✅ `[DEBUG] ✅ Путь добавлен в sys.path: ...` - путь найден
- ❌ `[ERROR] ❌ Путь не существует: ...` - нужно исправить путь

## Возможные пути на разных серверах:
1. `/var/www/html/src/main_version` - стандартный Apache/Nginx
2. `/home/user/RAG_agent/src/main_version` - домашняя директория
3. `/opt/RAG_agent/src/main_version` - системная установка
4. Относительный путь от webapp/api/ - автоматическое определение 