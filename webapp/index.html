<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="format-detection" content="telephone=no">
    <title>RAG –ú–µ–Ω—Ç–æ—Ä</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="style.css">
    <style>
        /* –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π CSS –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è FOUC */
        body { 
            margin: 0; 
            padding: 0; 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            line-height: 1.5;
            overflow-x: hidden;
        }
        .screen { display: none; }
        .screen.active { display: block; }
        #app { 
            width: 100vw; 
            min-height: 100vh; 
            min-height: 100dvh; /* –ù–æ–≤—ã–µ –µ–¥–∏–Ω–∏—Ü—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤ */
            overflow-x: hidden;
        }
        
        /* Fix –¥–ª—è iOS Safari */
        @supports (-webkit-touch-callout: none) {
            #app { 
                min-height: -webkit-fill-available; 
            }
        }
    </style>
</head>
<body>
    <div id="app">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <header class="header">
            <h1>ü§ñ GigaMentor</h1>
            <p>–í–∞—à AI-–ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è</p>
        </header>

        <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
        <div id="main-menu" class="screen active">
            <div class="menu-grid">
                <button class="menu-btn" onclick="showScreen('ask-question')">
                    <div class="menu-icon">‚ùì</div>
                    <h3>–ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å</h3>
                    <p>–ü–æ–ª—É—á–∏—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç –æ—Ç AI-–º–µ–Ω—Ç–æ—Ä–∞</p>
                </button>
                
                <button class="menu-btn" onclick="showScreen('questions-library')">
                    <div class="menu-icon">üìö</div>
                    <h3>–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –≤–æ–ø—Ä–æ—Å–æ–≤</h3>
                    <p>–ì–æ—Ç–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ —Ä–æ–ª—è–º –∏ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è–º</p>
                </button>
                
                <button class="menu-btn" onclick="showScreen('history')">
                    <div class="menu-icon">üìú</div>
                    <h3>–ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–æ–≤</h3>
                    <p>–ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –±–µ—Å–µ–¥—ã</p>
                </button>
                
                <button class="menu-btn" onclick="showScreen('profile')">
                    <div class="menu-icon">üë§</div>
                    <h3>–ü—Ä–æ—Ñ–∏–ª—å</h3>
                    <p>–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–æ–ª—å –∏ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é</p>
                </button>
                
                <button class="menu-btn" onclick="showScreen('feedback')">
                    <div class="menu-icon">üí¨</div>
                    <h3>–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å</h3>
                    <p>–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ —Å–≤–æ–∏–º–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é</p>
                </button>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å -->
        <div id="ask-question" class="screen">
            <div class="screen-header">
                <button class="back-btn" onclick="showScreen('main-menu')">‚Üê –ù–∞–∑–∞–¥</button>
                <h2>–ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å</h2>
            </div>
            
            <div class="question-form">
                <div class="input-group">
                    <label for="question-input">–í–∞—à –≤–æ–ø—Ä–æ—Å:</label>
                    <textarea 
                        id="question-input" 
                        placeholder="–û–ø–∏—à–∏—Ç–µ –≤–∞—à—É —Å–∏—Ç—É–∞—Ü–∏—é –∏–ª–∏ –∑–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å..."
                        rows="4"
                    ></textarea>
                </div>
                
                <button id="send-question" class="primary-btn" onclick="sendQuestion()">
                    <span class="btn-text">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</span>
                    <div class="spinner hidden"></div>
                </button>
            </div>
            
            <!-- –ë–ª–æ–∫ —Å –∑–∞–¥–∞–Ω–Ω—ã–º –≤–æ–ø—Ä–æ—Å–æ–º -->
            <div id="asked-question-container" class="asked-question-container hidden">
                <div class="asked-question-section">
                    <h3>–í–∞—à –≤–æ–ø—Ä–æ—Å:</h3>
                    <div id="asked-question-text" class="asked-question-text"></div>
                </div>
            </div>
            
            <div id="answer-container" class="answer-container hidden">
                <div class="answer-section">
                    <h3>–û—Ç–≤–µ—Ç:</h3>
                    <div id="answer-text" class="answer-text"></div>
                </div>
                <!-- –°–≤—è–∑–∞–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã (—Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –Ω–∏–∂–µ –æ—Ç–≤–µ—Ç–∞) -->
                <div id="suggested-questions" class="suggested-questions hidden">
                    <h4>üí° –í–∞–º –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ:</h4>
                    <div id="suggested-list" class="suggested-list"></div>
                </div>
                <!-- –ü—Ä–µ–¥—ã–¥—É—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ -->
                <div id="previous-questions" class="previous-questions hidden">
                    <h4>üìú –ü—Ä–µ–¥—ã–¥—É—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã:</h4>
                    <div id="previous-list" class="previous-list"></div>
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ -->
        <div id="questions-library" class="screen">
            <div class="screen-header">
                <button class="back-btn" onclick="showScreen('main-menu')">‚Üê –ù–∞–∑–∞–¥</button>
                <h2>–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –≤–æ–ø—Ä–æ—Å–æ–≤</h2>
            </div>
            
            <div id="questions-list" class="questions-list">
                <!-- –í–æ–ø—Ä–æ—Å—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –∏—Å—Ç–æ—Ä–∏–∏ -->
        <div id="history" class="screen">
            <div class="screen-header">
                <button class="back-btn" onclick="showScreen('main-menu')">‚Üê –ù–∞–∑–∞–¥</button>
                <h2>–ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–æ–≤</h2>
                <button class="clear-btn" onclick="clearHistory()">–û—á–∏—Å—Ç–∏—Ç—å</button>
            </div>
            
            <div id="history-list" class="history-list">
                <!-- –ò—Å—Ç–æ—Ä–∏—è –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –ø—Ä–æ—Ñ–∏–ª—è -->
        <div id="profile" class="screen">
            <div class="screen-header">
                <button class="back-btn" onclick="showScreen('main-menu')">‚Üê –ù–∞–∑–∞–¥</button>
                <h2>–ü—Ä–æ—Ñ–∏–ª—å</h2>
            </div>
            
            <div class="profile-container">
                <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ -->
                <div class="profile-info">
                    <div class="profile-avatar">
                        <div class="avatar-placeholder">üë§</div>
                    </div>
                    <div class="profile-details">
                        <h3 id="profile-name">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è</h3>
                        <p id="profile-status">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–µ–±–µ</p>
                    </div>
                </div>

                <!-- –§–æ—Ä–º–∞ –ø—Ä–æ—Ñ–∏–ª—è -->
                <div class="profile-form">
                    <div class="form-section">
                        <h4>–†–æ–ª—å –≤ –∫–æ–º–∞–Ω–¥–µ</h4>
                        <div class="select-wrapper">
                            <select id="role-select" onchange="updateSpecializations()">
                                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à—É —Ä–æ–ª—å</option>
                            </select>
                            <div class="select-icon">‚ñº</div>
                        </div>
                        <p class="field-description">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å, –∫–æ—Ç–æ—Ä–∞—è –ª—É—á—à–µ –≤—Å–µ–≥–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –≤–∞—à—É –¥–æ–ª–∂–Ω–æ—Å—Ç—å</p>
                    </div>
                    
                    <div class="form-section">
                        <h4>–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è</h4>
                        <div class="select-wrapper">
                            <select id="specialization-select">
                                <option value="">–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å</option>
                            </select>
                            <div class="select-icon">‚ñº</div>
                        </div>
                        <p class="field-description">–£–∫–∞–∂–∏—Ç–µ –≤–∞—à—É —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é</p>
                    </div>
                </div>
                
                <div class="profile-actions">
                    <button class="primary-btn full-width" onclick="saveProfile()">
                        <span class="btn-icon">üíæ</span>
                        –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
                    </button>
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ -->
        <div id="feedback" class="screen">
            <div class="screen-header">
                <button class="back-btn" onclick="showScreen('main-menu')">‚Üê –ù–∞–∑–∞–¥</button>
                <h2>–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å</h2>
            </div>
            
            <div class="feedback-container">
                <!-- –£–ª—É—á—à–µ–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–µ–∫—Ü–∏—è -->
                <div class="feedback-hero">
                    <div class="feedback-icon-large">üí¨</div>
                    <h3>–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–∏–º –º–Ω–µ–Ω–∏–µ–º</h3>
                    <p>–í–∞—à–∏ –æ—Ç–∑—ã–≤—ã –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ–º–æ–≥–∞—é—Ç –Ω–∞–º –¥–µ–ª–∞—Ç—å GigaMentor –ª—É—á—à–µ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å!</p>
                </div>

                <!-- –£–ª—É—á—à–µ–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ -->
                <div class="feedback-form">
                    <div class="input-group">
                        <label for="feedback-input">
                            <span class="label-text">–í–∞—à –æ—Ç–∑—ã–≤ –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ</span>
                        </label>
                        <div class="textarea-wrapper">
                            <textarea 
                                id="feedback-input" 
                                placeholder="–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–∏–º–∏ –º—ã—Å–ª—è–º–∏ –æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏, –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –∏–ª–∏ —Å–æ–æ–±—â–∏—Ç–µ –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö..."
                                maxlength="1000"
                                oninput="updateCharCounter()"
                            ></textarea>
                            <div id="char-counter" class="char-counter">0/1000</div>
                        </div>
                    </div>
                    
                    <button id="feedback-submit-btn" class="primary-btn full-width" onclick="sendFeedback()">
                        <span class="btn-text">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</span>
                        <div class="spinner hidden"></div>
                    </button>
                </div>

                <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ -->
                <div id="feedback-success" class="feedback-success hidden">
                    <div class="success-animation">
                        <div class="success-icon">üéâ</div>
                        <div class="success-confetti">
                            <div class="confetti"></div>
                            <div class="confetti"></div>
                            <div class="confetti"></div>
                            <div class="confetti"></div>
                            <div class="confetti"></div>
                        </div>
                    </div>
                    <h3>–°–ø–∞—Å–∏–±–æ –∑–∞ –æ—Ç–∑—ã–≤!</h3>
                    <p>–í–∞—à–µ –º–Ω–µ–Ω–∏–µ –æ—á–µ–Ω—å –≤–∞–∂–Ω–æ –¥–ª—è –Ω–∞—Å. –ú—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –≤–∞—à–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è.</p>
                    <div class="success-actions">
                        <button class="primary-btn" onclick="resetFeedbackForm()">
                            <span>‚ú® –û—Å—Ç–∞–≤–∏—Ç—å –µ—â–µ –æ—Ç–∑—ã–≤</span>
                        </button>
                        <button class="secondary-btn" onclick="showScreen('main-menu')">
                            <span>üè† –í –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏ -->
        <div id="history-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>–î–µ—Ç–∞–ª–∏ –¥–∏–∞–ª–æ–≥–∞</h3>
                    <button class="close-btn" onclick="closeHistoryModal()">√ó</button>
                </div>
                <div class="modal-body" id="history-detail">
                    <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
        </div>

        <!-- –õ–æ–∞–¥–µ—Ä -->
        <div id="loader" class="loader hidden">
            <div class="loader-spinner"></div>
            <div class="loader-text">–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –≤–∞—à –∑–∞–ø—Ä–æ—Å...</div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html> 